(window.webpackJsonp=window.webpackJsonp||[]).push([[97,22,93],{1242:function(t,e,n){"use strict";n.r(e);var o=n(305),r=(n(506),n(105)),i=n(25),a={setup:function(t,e){return{SIDEBAR_ON_LEFT:Object(i.j)("SIDEBAR_ON_LEFT"),mdAndLarger:Object(r.useBreakpoints)(r.breakpointsTailwind).greater("md"),COLUMN_LAYOUT:Object(i.j)("COLUMN_LAYOUT"),SIDEBAR:Object(i.j)("SIDEBAR")}}};a.components=Object.assign({Splitpanes:o.b,Pane:o.a},a.components);var c=a,s=n(23),l=Object(s.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Splitpanes",{staticClass:"smart-splitter",class:{"!flex-row-reverse":t.SIDEBAR_ON_LEFT&&t.mdAndLarger},attrs:{rtl:t.SIDEBAR_ON_LEFT&&t.mdAndLarger,horizontal:!t.mdAndLarger}},[n("Pane",{staticClass:"hide-scrollbar !overflow-auto flex flex-col",attrs:{size:"75","min-size":"65"}},[n("Splitpanes",{staticClass:"smart-splitter",attrs:{horizontal:t.COLUMN_LAYOUT}},[n("Pane",{staticClass:"hide-scrollbar !overflow-auto flex flex-col",attrs:{size:t.COLUMN_LAYOUT?45:50}},[t._t("primary")],2),t._v(" "),n("Pane",{staticClass:"flex flex-col hide-scrollbar !overflow-auto",attrs:{size:t.COLUMN_LAYOUT?65:50}},[t._t("secondary")],2)],1)],1),t._v(" "),t.SIDEBAR?n("Pane",{staticClass:"hide-scrollbar !overflow-auto flex flex-col",attrs:{size:"25","min-size":"20"}},[t._t("sidebar")],2):t._e()],1)}),[],!1,null,null,null);e.default=l.exports},1809:function(t,e,n){var o=n(1961);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,n(116).default)("3ae1a9ae",o,!0,{sourceMap:!1})},1916:function(t,e,n){"use strict";n.r(e);var o=n(3),r={info:"\tℹ️ [INFO]:\t",client:"\t⬅️ [SENT]:\t",server:"\t➡️ [RECEIVED]:\t"};function i(t){return r[t]}var a=n(24),c={};c.props={log:{type:Array,default:function(){return[]}},title:{type:String,default:""}},c.setup=function(t,e){var n=Object(a.d)(),r=t,c=Object(o.o)(null);return Object(o.y)((function(){return r.log}),(function(){c.value&&(c.value.scrollHeight-c.value.scrollTop-c.value.clientHeight<5&&Object(o.g)((function(){return c.value.scrollTop=c.value.scrollHeight})))})),{source:i,t:n,logsRef:c}};var s=c,l=(n(1960),n(23)),u=Object(l.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-col flex-1"},[n("div",{staticClass:"sticky top-0 z-10 flex items-center justify-between pl-4 border-b bg-primary border-dividerLight"},[n("label",{staticClass:"py-2 font-semibold text-secondaryLight",attrs:{for:"log"}},[t._v("\n      "+t._s(t.title)+"\n    ")])]),t._v(" "),n("div",{ref:"logsRef",staticClass:"realtime-log",attrs:{name:"log"}},[t.log?n("span",{staticClass:"space-y-2"},t._l(t.log,(function(e,o){return n("span",{key:"entry-"+o,staticClass:"font-mono",style:{color:e.color}},[t._v(t._s(e.ts)+t._s(t.source(e.source))+t._s(e.payload))])})),0):n("span",[t._v(t._s(t.t("response.waiting_for_connection")))])])])}),[],!1,null,"62497f31",null);e.default=u.exports},1920:function(t,e,n){var o=n(178),r=n(1984),i=n(1985),a=Math.max,c=Math.min;t.exports=function(t,e,n){var s,l,u,d,p,f,v=0,m=!1,h=!1,g=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=s,o=l;return s=l=void 0,v=e,d=t.apply(o,n)}function b(t){return v=t,p=setTimeout(k,e),m?y(t):d}function x(t){var n=t-f;return void 0===f||n>=e||n<0||h&&t-v>=u}function k(){var t=r();if(x(t))return w(t);p=setTimeout(k,function(t){var n=e-(t-f);return h?c(n,u-(t-v)):n}(t))}function w(t){return p=void 0,g&&s?y(t):(s=l=void 0,d)}function _(){var t=r(),n=x(t);if(s=arguments,l=this,f=t,n){if(void 0===p)return b(f);if(h)return clearTimeout(p),p=setTimeout(k,e),y(f)}return void 0===p&&(p=setTimeout(k,e)),d}return e=i(e)||0,o(n)&&(m=!!n.leading,u=(h="maxWait"in n)?a(i(n.maxWait)||0,e):u,g="trailing"in n?!!n.trailing:g),_.cancel=function(){void 0!==p&&clearTimeout(p),v=0,s=f=l=p=void 0},_.flush=function(){return void 0===p?d:w(r())},_}},1960:function(t,e,n){"use strict";n(1809)},1961:function(t,e,n){var o=n(115)(!1);o.push([t.i,".realtime-log[data-v-62497f31] {\n  padding: 1rem;\n  background-color: transparent;\n  color: var(--secondary-color);\n  overflow: auto;\n  height: 256px;\n}\n.realtime-log[data-v-62497f31], .realtime-log span[data-v-62497f31] {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n.realtime-log span[data-v-62497f31] {\n  display: block;\n  overflow-wrap: break-word;\n  word-break: break-all;\n}",""]),t.exports=o},1984:function(t,e,n){var o=n(127);t.exports=function(){return o.Date.now()}},1985:function(t,e,n){var o=n(1986),r=n(178),i=n(307),a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=o(t);var n=c.test(t);return n||s.test(t)?l(t.slice(2),n?2:8):a.test(t)?NaN:+t}},1986:function(t,e,n){var o=n(1987),r=/^\s+/;t.exports=function(t){return t?t.slice(0,o(t)+1).replace(r,""):t}},1987:function(t,e){var n=/\s/;t.exports=function(t){for(var e=t.length;e--&&n.test(t.charAt(e)););return e}},2314:function(t,e,n){"use strict";n.r(e);n(61),n(12),n(5),n(92);var o=n(3),r=n(1920),i=n.n(r),a=n(1231),c=n.n(a),s=n(202),l=n(339),u=n(24),d=Object(o.c)({components:{draggable:c.a},setup:function(){return{url:Object(u.h)(l.c,"",l.n),protocols:Object(u.h)(l.e,[],l.p),connectionState:Object(u.h)(l.b,!1,l.m),connectingState:Object(u.h)(l.a,!1,l.l),socket:Object(u.h)(l.g,null,l.r),log:Object(u.h)(l.d,[],l.o)}},data:function(){return{isUrlValid:!0,communication:{input:""},currentIndex:-1,activeProtocols:[]}},computed:{urlValid:function(){return this.isUrlValid}},watch:{url:function(){this.debouncer()},protocols:{handler:function(t){this.activeProtocols=t.filter((function(t){return!Object.prototype.hasOwnProperty.call(t,"active")||!0===t.active})).map((function(t){return t.value}))},deep:!0}},created:function(){this.worker=this.$worker.createRejexWorker(),this.worker.addEventListener("message",this.workerResponseHandler)},destroyed:function(){this.worker.terminate()},methods:{clearContent:function(){Object(l.j)()},debouncer:i()((function(){this.worker.postMessage({type:"ws",url:this.url})}),1e3),workerResponseHandler:function(t){var e=t.data;e.url===this.url&&(this.isUrlValid=e.result)},toggleConnection:function(){return this.connectionState?this.disconnect():this.connect()},connect:function(){var t=this;this.log=[{payload:this.$t("state.connecting_to",{name:this.url}),source:"info",color:"var(--accent-color)"}];try{this.connectingState=!0,this.socket=new WebSocket(this.url,this.activeProtocols),this.socket.onopen=function(){t.connectingState=!1,t.connectionState=!0,t.log=[{payload:t.$t("state.connected_to",{name:t.url}),source:"info",color:"var(--accent-color)",ts:(new Date).toLocaleTimeString()}],t.$toast.success(t.$t("state.connected"))},this.socket.onerror=function(){t.handleError()},this.socket.onclose=function(){t.connectionState=!1,Object(l.h)({payload:t.$t("state.disconnected_from",{name:t.url}),source:"info",color:"#ff5555",ts:(new Date).toLocaleTimeString()}),t.$toast.error(t.$t("state.disconnected"))},this.socket.onmessage=function(t){var e=t.data;Object(l.h)({payload:e,source:"server",ts:(new Date).toLocaleTimeString()})}}catch(t){this.handleError(t),this.$toast.error(this.$t("error.something_went_wrong"))}Object(s.b)({platform:"wss"})},disconnect:function(){this.socket&&(this.socket.close(),this.connectionState=!1,this.connectingState=!1)},handleError:function(t){this.disconnect(),this.connectionState=!1,Object(l.h)({payload:this.$t("error.something_went_wrong"),source:"info",color:"#ff5555",ts:(new Date).toLocaleTimeString()}),null!==t&&Object(l.h)({payload:t,source:"info",color:"#ff5555",ts:(new Date).toLocaleTimeString()})},sendMessage:function(){var t=this.communication.input;this.socket.send(t),Object(l.h)({payload:t,source:"client",ts:(new Date).toLocaleTimeString()}),this.communication.input=""},walkHistory:function(t){var e=this.log.filter((function(t){return"client"===t.source})),n=e.length;switch(t){case"up":n>0&&0!==this.currentIndex&&(-1===this.currentIndex?(this.currentIndex=n-1,this.communication.input=e[this.currentIndex].payload):0===this.currentIndex?this.communication.input=e[0].payload:this.currentIndex>0&&(this.currentIndex=this.currentIndex-1,this.communication.input=e[this.currentIndex].payload));break;case"down":n>0&&this.currentIndex>-1&&(this.currentIndex===n-1?(this.currentIndex=-1,this.communication.input=""):this.currentIndex<n-1&&(this.currentIndex=this.currentIndex+1,this.communication.input=e[this.currentIndex].payload))}},addProtocol:function(){Object(l.i)({value:"",active:!0})},deleteProtocol:function(t){var e=this,n=t.index,o=this.protocols.slice();Object(l.k)(n),this.$toast.success(this.$t("state.deleted"),{action:{text:this.$t("action.undo"),duration:4e3,onClick:function(t,n){e.protocols=o,n.remove()}}})},updateProtocol:function(t,e){Object(l.s)(t,e)}}}),p=n(23),f=Object(p.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("AppPaneLayout",{scopedSlots:t._u([{key:"primary",fn:function(){return[n("div",{staticClass:"sticky top-0 z-10 flex flex-shrink-0 p-4 overflow-x-auto space-x-2 bg-primary hide-scrollbar"},[n("div",{staticClass:"inline-flex flex-1 space-x-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"w-full px-4 py-2 border rounded bg-primaryLight border-divider text-secondaryDark",class:{error:!t.urlValid},attrs:{id:"websocket-url",type:"url",autocomplete:"off",spellcheck:"false",placeholder:t.$t("websocket.url"),disabled:t.connectionState},domProps:{value:t.url},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.urlValid&&t.toggleConnection()},input:function(e){e.target.composing||(t.url=e.target.value)}}}),t._v(" "),n("ButtonPrimary",{staticClass:"w-32",attrs:{id:"connect",disabled:!t.urlValid,name:"connect",label:t.connectionState?t.$t("action.disconnect"):t.$t("action.connect"),loading:t.connectingState},nativeOn:{click:function(e){return t.toggleConnection.apply(null,arguments)}}})],1)]),t._v(" "),n("div",{staticClass:"sticky z-10 flex items-center justify-between pl-4 border-b bg-primary border-dividerLight top-upperPrimaryStickyFold"},[n("label",{staticClass:"font-semibold text-secondaryLight"},[t._v("\n        "+t._s(t.$t("websocket.protocols"))+"\n      ")]),t._v(" "),n("div",{staticClass:"flex"},[n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{title:t.$t("action.clear_all"),svg:"trash-2"},nativeOn:{click:function(e){return t.clearContent.apply(null,arguments)}}}),t._v(" "),n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{title:t.$t("add.new"),svg:"plus"},nativeOn:{click:function(e){return t.addProtocol.apply(null,arguments)}}})],1)]),t._v(" "),n("draggable",{attrs:{animation:"250",handle:".draggable-handle",draggable:".draggable-content","ghost-class":"cursor-move","chosen-class":"bg-primaryLight","drag-class":"cursor-grabbing"},model:{value:t.protocols,callback:function(e){t.protocols=e},expression:"protocols"}},t._l(t.protocols,(function(e,o){var r;return n("div",{key:"protocol-"+o,staticClass:"flex border-b divide-x divide-dividerLight border-dividerLight draggable-content group"},[n("span",[n("ButtonSecondary",{staticClass:"cursor-auto text-primary hover:text-primary",class:{"draggable-handle group-hover:text-secondaryLight !cursor-grab":o!==(null===(r=t.protocols)||void 0===r?void 0:r.length)-1},attrs:{svg:"grip-vertical",tabindex:"-1"}})],1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"protocol.value"}],staticClass:"flex flex-1 px-4 py-2 bg-transparent",attrs:{placeholder:t.$t("count.protocol",{count:o+1}),name:"message",type:"text",autocomplete:"off"},domProps:{value:e.value},on:{change:function(n){return t.updateProtocol(o,{value:n.target.value,active:e.active})},input:function(n){n.target.composing||t.$set(e,"value",n.target.value)}}}),t._v(" "),n("span",[n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{title:e.hasOwnProperty("active")?e.active?t.$t("action.turn_off"):t.$t("action.turn_on"):t.$t("action.turn_off"),svg:e.hasOwnProperty("active")?e.active?"check-circle":"circle":"check-circle",color:"green"},nativeOn:{click:function(n){return t.updateProtocol(o,{value:e.value,active:!e.active})}}})],1),t._v(" "),n("span",[n("ButtonSecondary",{directives:[{name:"tippy",rawName:"v-tippy",value:{theme:"tooltip"},expression:"{ theme: 'tooltip' }"}],attrs:{title:t.$t("action.remove"),svg:"trash",color:"red"},nativeOn:{click:function(e){return t.deleteProtocol({index:o})}}})],1)])})),0),t._v(" "),0===t.protocols.length?n("div",{staticClass:"flex flex-col items-center justify-center p-4 text-secondaryLight"},[n("img",{staticClass:"inline-flex flex-col object-contain object-center w-16 h-16 my-4",attrs:{src:"/images/states/"+t.$colorMode.value+"/add_category.svg",loading:"lazy",alt:t.$t("empty.protocols")}}),t._v(" "),n("span",{staticClass:"mb-4 text-center"},[t._v("\n        "+t._s(t.$t("empty.protocols"))+"\n      ")])]):t._e()]},proxy:!0},{key:"secondary",fn:function(){return[n("RealtimeLog",{attrs:{title:t.$t("websocket.log"),log:t.log}})]},proxy:!0},{key:"sidebar",fn:function(){return[n("div",{staticClass:"flex items-center justify-between p-4"},[n("label",{staticClass:"font-semibold text-secondaryLight",attrs:{for:"websocket-message"}},[t._v("\n        "+t._s(t.$t("websocket.communication"))+"\n      ")])]),t._v(" "),n("div",{staticClass:"flex px-4 space-x-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.communication.input,expression:"communication.input"}],staticClass:"input",attrs:{id:"websocket-message",name:"message",type:"text",autocomplete:"off",disabled:!t.connectionState,placeholder:t.$t("websocket.message")},domProps:{value:t.communication.input},on:{keyup:[function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.connectionState&&t.sendMessage()},function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;t.connectionState&&t.walkHistory("up")},function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;t.connectionState&&t.walkHistory("down")}],input:function(e){e.target.composing||t.$set(t.communication,"input",e.target.value)}}}),t._v(" "),n("ButtonPrimary",{attrs:{id:"send",name:"send",disabled:!t.connectionState,label:t.$t("action.send")},nativeOn:{click:function(e){return t.sendMessage.apply(null,arguments)}}})],1)]},proxy:!0}])})}),[],!1,null,null,null);e.default=f.exports;installComponents(f,{ButtonPrimary:n(172).default,ButtonSecondary:n(106).default,RealtimeLog:n(1916).default,AppPaneLayout:n(1242).default})}}]);